# {产品名称} - {模块名称}接口文档 V1.0

## 1. 文档概览

### 1.1 版本记录
| 版本号 | 修改日期 | 修改人 | 修改内容  | 备注 |
| :--- | :--- | :--- |:------| :--- |
| V1.0.0 | {日期} | - | 初始版本  | - |

### 1.2 责任人
| 角色 | 姓名 | 职责 |
| :--- | :--- | :--- |
| 前端 | - | 接口对接、联调 |
| 后端 | - | 接口开发、文档维护 |
| 测试 | - | 接口测试、质量把控 |

---

## 2. 接口一览表

| 序号 | 接口地址 | 请求方式 | 说明 | 完成情况 |
| :--- | :--- | :--- | :--- | :--- |
| 1 | `{接口路径}` | `{GET/POST/PUT/DELETE}` | {接口说明} | ✅ 已完成 / ⏳ 进行中 / ❌ 未开始 |

---

## 3. 接口定义

### 3.1 {接口名称}

- **接口地址**: `{请求方式} {接口路径}`
- **说明**：
  - 该接口对应后端 `{Controller类名}#{方法名}`。
  - {接口功能描述}
  - {业务规则说明}
- **Request**:
  - Method: `{GET/POST/PUT/DELETE}`
  - URL: `{接口路径}`
  - **Headers**:

    | 参数名             | 类型 | 必填 | 说明                   |
    |:----------------| :--- | :--- |:---------------------|
    | `Authorization` | String | 是 | Bearer Token（用户登录凭证） |
    | `App-Id`        | String | 否 | 应用ID                 |
    | `App-Channel`   | String | 否 | 应用渠道                 |
    | `App-Version`   | String | 否 | 应用版本                 |
    | `System-Id`     | String | 否 | 系统ID                 |
    | `Tenant-Id`     | String | 是 | 租户ID                 |
  - **Path Parameters**:
  - 
    | 参数名 | 类型 | 必填 | 说明 |
    | :--- | :--- | :--- | :--- |
    | `{参数名}` | {类型} | {是/否} | {参数说明} |
  - **Query Parameters**:
  - 
    | 参数名 | 类型 | 必填 | 说明 |
    | :--- | :--- | :--- | :--- |
    | `{参数名}` | {类型} | {是/否} | {参数说明} |
  - **Request Body** (仅 POST/PUT 请求):
    ```json
    {
      "{字段名}": "{字段值}",
      "{字段名}": "{字段值}"
    }
    ```
    - **请求字段说明**:
    
      | 字段名 | 类型 | 必填 | 说明 |
      | :--- | :--- | :--- | :--- |
      | `{字段名}` | {类型} | {是/否} | {字段说明} |
- **Response**:
  - **响应结构**: 遵循统一响应结构 `R<T>`
    ```json
    {
      "code": 200,
      "msg": "success",
      "data": {响应数据}
    }
    ```
  - **响应字段详细说明**:
  
    | 字段名 | 类型 | 说明 |
    | :--- | :--- | :--- |
    | `{字段名}` | {类型} | {字段说明} |
  - **响应示例**:
    ```json
    {
      "code": 200,
      "msg": "success",
      "data": {
        "{字段名}": "{字段值}"
      }
    }
    ```
  - **错误响应示例**:
    ```json
    {
      "code": 400,
      "msg": "参数错误",
      "data": null
    }
    ```

### 3.2 {接口名称2}

- **接口地址**: `{请求方式} {接口路径}`
- **说明**：
  - 该接口对应后端 `{Controller类名}#{方法名}`。
  - {接口功能描述}
- **Request**:
  - Method: `{GET/POST/PUT/DELETE}`
  - URL: `{接口路径}`
  - **Query Parameters**:
  
    | 参数名 | 类型 | 必填 | 说明 |
    | :--- | :--- | :--- | :--- |
    | `{参数名}` | {类型} | {是/否} | {参数说明} |
- **Response**:
  - 返回 `{响应类型}` 对象/列表。
  - **响应字段详细说明 ({响应类型})**:
  
    | 字段名 | 类型 | 说明 |
    | :--- | :--- | :--- |
    | `{字段名}` | {类型} | {字段说明} |
  - **响应示例**:
    ```json
    {
      "code": 200,
      "msg": "success",
      "data": [
        {
          "{字段名}": "{字段值}"
        }
      ]
    }
    ```

---

## 4. 统一响应结构

### 4.1 标准响应格式

所有接口遵循统一的响应结构：

```typescript
interface ApiResponse<T> {
  code: number;      // 200: 成功, >200: 业务错误
  msg: string;       // 提示信息
  data: T;           // 业务数据
}
```

### 4.2 分页响应格式

分页查询接口返回分页结构：

```typescript
interface PageResponse<T> {
  records: T[];      // 数据列表
  total: number;     // 总记录数
  size: number;      // 每页数量
  current: number;    // 当前页码
  pages: number;     // 总页数
}
```

### 4.3 错误码约定

| 错误码 | 描述 | 处理建议 |
| :--- | :--- | :--- |
| 200 | 成功 | - |
| 400 | 参数错误 | Toast提示错误信息 |
| 401 | Token过期 | 跳转登录页 |
| 403 | 无权限 | Toast提示"无权限访问" |
| 404 | 资源不存在 | Toast提示"资源不存在" |
| 500 | 服务器错误 | Toast提示"服务器错误，请稍后重试" |

---

## 5. 请求头规范

所有接口请求需要自动注入以下请求头：

| 请求头 | 类型 | 必填 | 说明 |
| :--- | :--- | :--- | :--- |
| `Authorization` | String | 是 | Bearer Token（用户登录凭证） |
| `App-Id`        | String | 否 | 应用ID                 |
| `App-Channel`   | String | 否 | 应用渠道                 |
| `App-Version`   | String | 否 | 应用版本                 |
| `System-Id`     | String | 否 | 系统ID                 |
| `Tenant-Id`     | String | 是 | 租户ID                 |

---

## 6. 注意事项

1. **系统隔离**：所有接口都需要校验`System-Id`，确保只能操作当前系统的数据
2. **应用隔离**：所有接口都需要校验`App-Id`，确保只能操作当前应用的数据
3. **多租户隔离**：所有接口都需要校验`Tenant-Id`，确保租户数据隔离
4. **权限控制**：接口需要校验用户权限，确保只能操作有权限的数据
5. **参数校验**：所有必填参数都需要进行校验，参数错误返回400错误码
6. **异常处理**：接口异常需要返回统一的错误响应格式
7. **数据格式**：时间字段统一使用 `yyyy-MM-dd HH:mm:ss` 格式
8. **金额字段**：金额字段统一使用 `BigDecimal` 类型，保留2位小数

---

**文档版本**：V1.0.0  
**创建时间**：{日期}  
**最后更新**：{日期}  
**维护人**：{维护人}
